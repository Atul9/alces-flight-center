<%
  tabs = [
    { id: :overview, path: cluster_path(@cluster) },
    { id: :logs, path: cluster_logs_path(@cluster) },
    { id: :cases, path: cluster_cases_path(@cluster) },
    {
      id: :maintenance,
      path: cluster_maintenance_windows_path(@cluster),
      admin_dropdown: [
        {
          text: 'Existing',
          path: cluster_maintenance_windows_path(@cluster)
        },{
          text: 'Request',
          path: new_cluster_maintenance_window_path(@cluster)
        }
      ]
    },
    {
      id: :services, path: cluster_services_path(@cluster)
    },
    {
      id: :components, path: '', # Path is ignored b/c dropdown
      dropdown: @cluster.component_groups_by_type.map(&:name).map do |t|
        { text: t, path: cluster_components_path(@cluster, type: t) }
      end.push(text: 'All', path: cluster_components_path(@cluster))
    }
  ]
%>
<div class='card'>
  <div class='card-header'>
    <ul class="nav nav-tabs nav-justified">
      <% tabs.each do |tab| %>
        <% active = (tab[:id] == activate) %>
        <% tab[:text] = tab[:id].to_s.capitalize unless tab[:text] %>
        <%= render 'partials/nav_link', **tab, active: active, classes: 'px-3' %>
      <% end %>
    </ul>
  </div>
  <%= yield if block_given? %>
</div>

